# Flower ðŸŒ»

A CLI tool made to help developers using Git Flow and Conventional Commits.

## How to Install

Currently, it can be Installed via:

### Brew

```bash
brew install KaueSabinoSRV17/homebrew-flower/flower
```

### Linux Binary

```bash
wget https://github.com/KaueSabinoSRV17/Flower/releases/download/1.0.6/Flower_1.0.6_linux_amd64.tar.gz
tar -xzf Flower_1.0.6_linux_amd64.tar.gz
mv ./flow /usr/local/bin/flow
rm Flower_1.0.6_linux_amd64.tar.gz
```

## How to Use

Currently, it has only the `commit` command:

```bash
flow commit
```

It will ask you what files you are going to add to git, what is going to be the Conventional Commit prefix
and the Commit Message. After that, you can run `git log` to validate the commit.

## Contribuitions

### Project Structure

The Structure can and probaly should be changed, it would be very welcome some advices on how to organize
the files and folders properly, since i come from `Typescript` Development.

#### .github directory

Where we store `yaml` files for the ci/cd runs in Github Actions. Currently, i use `goreleaser` to automate
the publishing to `brew`.

##### Release Pipeline

The Pipeline is triggered when a new tag (version) is pushed follows these steps:

- Checkouts the project code:
```yaml
name: Checkout
uses: actions/checkout@v2
with:
  fetch-depth: 0
```
- Installs Go:
```yaml
name: Set up Go
uses: actions/setup-go@v2
with:
  go-version: 1.20.3
```
- Runs `go mod vendor`, due to some errors without it:
```yaml
name: Run Mod Vendor
run: go mod vendor
```
- Installs and Runs `goreleaser --clean` (without --clean did not work). It uses the pushed tag as the version and a github token to publish to the `homebrew repo`:
```yaml
name: Run GoReleaser
uses: goreleaser/goreleaser-action@v2
with:
  distribution: goreleaser
  version: ${{ env.GITHUB_REF_NAME }}
  args: release --clean
env:
  GITHUB_TOKEN: ${{ secrets.RELEASER_TOKEN }}
```

#### cmd directory

Where we store `Go` files generated by `Cobra`. They add the functionality of a CLI to the business logic inside
`use_cases`.

#### infra

Where we store `terraform` files that describe and mainteen any infrastructure that we need to publish the CLI.
Currently there is only a `S3 Bucket` in `AWS`, that we are trying to use as a repository for `apt`, making it
easier to install on Linux.

#### use_cases directory

Where we store business logic to implement the `Use Cases` of the CLI (Currently only Conventional Commits).